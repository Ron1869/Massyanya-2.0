![image](https://github.com/user-attachments/assets/bea9f43b-23d4-48f6-8b3a-4efdbc6d876b)











![image](https://github.com/user-attachments/assets/d3d9b0d6-54e0-47aa-bfbd-13b4bbe8791b)









![image](https://github.com/user-attachments/assets/d90cd999-1f57-4af2-8e27-c5cfc795e124)











![image](https://github.com/user-attachments/assets/e73dfa09-4417-4824-ab5f-617c715be8de)














![image](https://github.com/user-attachments/assets/7553e849-ff79-442b-80af-5b1bc2ea15ba)










![image](https://github.com/user-attachments/assets/d48d36bf-40bd-4a0a-afe9-24dd56662de0)









![image](https://github.com/user-attachments/assets/320e2da6-2eac-4624-894a-7b59831e78d8)








![image](https://github.com/user-attachments/assets/4b2e6fc6-9e31-4d05-a65e-96b8700f9916)




# Полное описание проекта Massyanya-2.0 

## 1. Описание текущего состояния проекта

**Massyanya-2.0** — это торговый бот с веб-интерфейсом, предназначенный для управления автоматической торговлей на криптовалютных рынках. Проект включает в себя:

1. **Анализ данных**: Использует нейронные сети (например, LSTM) для прогнозирования цен.
2. **Торговля**: Автоматическое выполнение ордеров на основе заранее заданной логики.
3. **Интеграция с API**: Подключение к Binance, инвестплатформам и новостным сервисам.
4. **Гибкая настройка**: Веб-интерфейс для управления настройками, анализа данных и ручной торговли.



### 1.1 Основные компоненты

1. **Веб-интерфейс:**
   - Реализован на основе Flask.
   - Предоставляет интерфейс для управления ботом, отображения чата команд, истории ордеров и предсказаний.
   - Поддерживает страницы:
     - Главная (управление ботом, чат).
     - График.
     - Настройки торговли.
     - База данных.
     - IP и ключи для брокера.

2. **Торговая логика:**
   - Поддерживает интеграцию с биржами Binance, и планируется расширение для других бирж, таких как Tiger.
   - Использует торговые индикаторы и модели машинного обучения (LSTM).
   - Управление капиталом и стратегиями торговли.

3. **Предсказания:**
   - Включены 4 источника данных:
     - Данные торговых индикаторов.
     - Финансовые данные из Investpy.
     - Парсинг новостей.
     - Исторические данные, хранящиеся в MinIO.

4. **Интеграция с Telegram:**
   - Подключён Telegram-бот для удалённого управления.
   - Команды:
     - `/start` — запуск бота.
     - `/trade` — включение авто-торговли.
     - `/forecast` — запуск предсказаний.
     - `/status` — текущий статус.

5. **Умное хранилище данных:**
   - MinIO настроен для хранения данных парсеров.
   - Реализована загрузка и извлечение данных через интерфейс.

### 1.2 Реализованные функции

- Интерфейс с кнопками управления:
  - Запустить Масяню.
  - Прогноз.
  - Закрыть все позиции.
  - Вкл/Выкл Telegram.
- Отображение истории ордеров и логов.
- Настройка параметров торговли (таймфрейм, список монет).
- Интеграция с Binance.
- Начальная интеграция LSTM для предсказаний.

---

## 2. Анализ недостающих функций

### 2.1 Подключение других бирж
- **Tiger и другие биржи:**
  - Требуется разработать универсальный модуль подключения бирж через их API.
  - Настроить ключи доступа через веб-интерфейс.

### 2.2 Улучшение предсказаний
- Интеграция данных из всех источников (Massyanya, Investpy, новости, MinIO).
- Улучшение логики выбора таймфреймов и параметров предсказаний.
- Визуализация результатов в веб-интерфейсе и Telegram.

### 2.3 Интеграция парсеров
- **Investpy:**
  - Регулярное обновление данных с Investing.com.
  - Автоматическая загрузка в MinIO.
- **News Parsing:**
  - Подключение новостного парсера для анализа рыночных событий.
  - Вывод ключевых новостей в интерфейс и Telegram.

### 2.4 Расширение веб-интерфейса
- Добавить визуализацию логов и графиков.
- Настроить удобный выбор и отображение стратегий.
- Обновить дизайн интерфейса для большего удобства.

---

## 3. План сборки проекта

## 3.1 Структура проекта
**Файловая структура проекта:**

- **`Main.py`** – Основной файл для запуска приложения.
- **`config/`**
  - `.env` – Хранение ключей API и параметров конфигурации.
- **`core/`**
  - `neural_network.py` – Нейронные сети для прогнозов.
  - `trading_logic.py` – Логика автоматической торговли.
  - `data_manager.py` – Управление данными.
  - `exchange_manager.py` – Интеграция с Binance.
  - `update_manager.py` – Обновление информации об ордерах и балансах.
- **`interface/`**
  - `interface_manager.py` – Управление интерфейсом.
  - `templates/` – HTML-шаблоны для веб-интерфейса.
  - `static/css/` – Стили.
  - `static/js/` – Скрипты.
- **`utils/`**
  - `cache_handler.py` – Кэширование данных.
  - `data_fetcher.py` – Загрузка данных с API.
- **`tests/`** – Автотесты.

---


### 3.2 Установка и настройка

1. **Подготовка окружения:**
   - Установить Python 3.9+.
   - Установить зависимости из `requirements.txt`.
2. **Настройка API-ключей:**
   - Указать ключи Binance и других бирж в `.env` файле.
3. **Запуск MinIO:**
   - Установить и запустить MinIO.
   - Настроить доступ к хранилищу.

### 3.3 Запуск проекта

1. Развернуть веб-интерфейс с помощью Flask.
2. Запустить основной файл проекта.
3. Убедиться в доступности веб-интерфейса.

### 3.4 Проверка и тестирование

1. Проверить кнопки управления и отображение чата.
2. Запустить тестовые предсказания.
3. Убедиться в корректной интеграции с биржей Binance.
4. Проверить работу Telegram-бота.

---

## 4. Следующие шаги

1. **Подключение других бирж:**
   - Разработать модуль для подключения Tiger.
   - Добавить выбор биржи в интерфейсе.
2. **Расширение функционала:**
   - Объединить все источники данных для предсказаний.
   - Визуализировать данные предсказаний и логов.
3. **Оптимизация интерфейса:**
   - Обновить дизайн, добавить графики.
   - Улучшить систему логов и истории.
4. **Документация:**
   - Описать процесс установки и использования.
   - Добавить инструкции для подключения других бирж и Telegram-бота.

---
### 4.1 Устранение ошибок
1. **Проверка подключения к Binance API.**
   - Убедиться, что ключи корректны и настроены в `.env`.
2. **Тестирование нейросетей.**
   - Проверить LSTM на новых данных.
3. **Исправление багов в интерфейсе.**
   - Убедиться, что кнопки работают ("Запуск", "Остановка" и др.).
4. **Кэширование.**
   - Проверить, корректно ли обновляются данные в кэше.

### 4.2 Оптимизация
1. **Обновление документации.**
   - Добавить подробные инструкции для разработчиков и пользователей.
2. **Рефакторинг кода.**
   - Сократить дублирование.
3. **Тестирование производительности.**
   - Измерить задержки интерфейса и выполнения ордеров.

### 4.3 Тестирование
- Провести юнит-тесты и интеграционные тесты для всех модулей.

---

## 5. План действий

### Поиск файлов и папок
1. **`Main.py`** – Точка входа. Запускается для старта веб-интерфейса и бота.
2. **Конфигурация (`config/.env`)**:
   - Ключи и секреты Binance.
   - Параметры API.
3. **Логика торговли (`core/trading_logic.py`)**:
   - Основные стратегии.
4. **Веб-интерфейс:**
   - HTML-шаблоны – `interface/templates/`.
   - Статические ресурсы – `interface/static/`.

### Устранение ошибок и недоработок
1. Проверить конфигурацию `.env`.
2. Убедиться, что Flask сервер работает корректно.
3. Настроить маршруты для API запросов и интерфейса.
4. Проверить стабильность кэширования и обновления данных.
5. Тестировать работу LSTM с реальными данными.



